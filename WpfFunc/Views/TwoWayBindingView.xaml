<UserControl x:Class="WpfFunc.Views.TwoWayBindingView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <ScrollViewer>
        <StackPanel Margin="20">
            <TextBlock Text="2. Двухсторонняя привязка"
                       FontSize="18"
                       FontWeight="Bold"
                       Margin="0,0,0,10" />

            <GroupBox Header="Два синхронизированных TextBox"
                      Margin="0,0,0,10">
                <StackPanel Margin="10">
                    <TextBox Text="{Binding TwoWayText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                             Height="30"
                             Margin="0,0,0,5" />
                    <TextBox Text="{Binding TwoWayText, Mode=TwoWay}"
                             Height="30"
                             Margin="0,0,0,5" />
                    <TextBlock Text="Изменение в любом TextBox обновляет оба"
                               FontStyle="Italic"
                               Foreground="#666" />
                </StackPanel>
            </GroupBox>

            <GroupBox Header="Slider ↔ TextBox"
                      Margin="0,0,0,10">
                <StackPanel Margin="10">
                    <Slider Value="{Binding SliderValue, Mode=TwoWay}"
                            Minimum="0"
                            Maximum="100"
                            Margin="0,0,0,5" />
                    <TextBox Text="{Binding SliderValue, Mode=TwoWay, StringFormat=N0}"
                             Width="100"
                             Height="30"
                             Margin="0,0,0,5" />
                    <TextBlock Text="Двигайте слайдер или введите число"
                               FontStyle="Italic"
                               Foreground="#666" />
                </StackPanel>
            </GroupBox>

            <GroupBox Header="Состояние активности"
                      Margin="0,0,0,10">
                <StackPanel Margin="10">
                    <CheckBox IsChecked="{Binding IsActive, Mode=TwoWay}"
                              Content="Активный режим"
                              Margin="0,0,0,5" />
                    <Button Content="Переключить состояние"
                            Command="{Binding ToggleCommand}"
                            Width="150"
                            Margin="0,5,0,0" />
                </StackPanel>
            </GroupBox>

            <GroupBox Header="Прямая привязка vs через ViewModel"
                      Margin="0,0,0,10">
                <StackPanel Margin="10">
                    <TextBlock Text="Прямая привязка CheckBox:"
                               Margin="0,0,0,5" />
                    <CheckBox x:Name="DirectCheckBox"
                              Content="Прямая привязка"
                              IsChecked="True"
                              Margin="0,0,0,5" />
                    <TextBlock Text="{Binding IsChecked, ElementName=DirectCheckBox, StringFormat='Прямая: {0}'}"
                               Margin="0,0,0,10" />

                    <TextBlock Text="Привязка через ViewModel:"
                               Margin="0,0,0,5" />
                    <CheckBox IsChecked="{Binding IsActive, Mode=TwoWay}"
                              Content="Через ViewModel"
                              Margin="0,0,0,5" />
                    <TextBlock Text="{Binding IsActive, StringFormat='Через VM: {0}'}" />
                </StackPanel>
            </GroupBox>
        </StackPanel>
    </ScrollViewer>
</UserControl>
